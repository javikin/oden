<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Troubleshooting - Oden Forge MCPs</title>
  <meta name="description" content="Common issues and solutions for Oden Forge MCPs. Fix connection problems, authentication errors, and more.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x2692;</text></svg>">
</head>
<body>

  <header class="site-header">
    <div class="container">
      <a href="../index.html" class="site-logo">
        <div class="logo-icon">O</div>
        Oden Forge <span class="text-muted">MCPs</span>
      </a>
      <button class="nav-toggle" aria-label="Toggle navigation">&#9776;</button>
      <nav class="site-nav">
        <a href="../index.html">MCPs</a>
        <a href="../templates/index.html">Stack Templates</a>
        <a href="install.html">Install Guide</a>
        <a href="troubleshooting.html" class="active">Troubleshooting</a>
        <a href="https://github.com/javikin/oden" class="nav-github" target="_blank" rel="noopener">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </nav>
    </div>
  </header>

  <main>
    <section class="detail-hero">
      <div class="container">
        <div class="breadcrumb">
          <a href="../index.html">Home</a> / Troubleshooting
        </div>
        <h1>Troubleshooting</h1>
        <div class="meta">
          <span>Common issues and how to fix them</span>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container" style="max-width: 800px;">

        <!-- Issue 1 -->
        <h2>MCP not showing in /mcp</h2>
        <p><strong>Symptom:</strong> You added an MCP to <code>.mcp.json</code> but it doesn't appear when you run <code>/mcp</code>.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>Restart Claude Code</strong> - MCPs only load on startup. Exit completely and reopen.
          </li>
          <li>
            <strong>Check JSON syntax</strong> - A single missing comma or quote breaks the entire file.
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="python3 -c \"import json; json.load(open('.mcp.json')); print('Valid JSON')\"">Copy</button>
              </div>
              <pre>python3 -c "import json; json.load(open('.mcp.json')); print('Valid JSON')"</pre>
            </div>
          </li>
          <li>
            <strong>Check file location</strong> - <code>.mcp.json</code> must be in the project root (same directory as <code>.git/</code>).
          </li>
          <li>
            <strong>Check for duplicate keys</strong> - If you have two entries with the same name, only the last one is used.
          </li>
        </ol>

        <!-- Issue 2 -->
        <h2 class="mt-4">MCP connection failed</h2>
        <p><strong>Symptom:</strong> MCP appears in <code>/mcp</code> but shows as disconnected or errored.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>For HTTP MCPs:</strong> Check your internet connection and that the service URL is correct.
          </li>
          <li>
            <strong>For NPX MCPs:</strong> Make sure Node.js is installed and <code>npx</code> is available.
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="node --version && npx --version">Copy</button>
              </div>
              <pre>node --version  <span class="comment"># Should be v18+</span>
npx --version   <span class="comment"># Should show a version number</span></pre>
            </div>
          </li>
          <li>
            <strong>Clear npx cache</strong> - Stale packages can cause issues.
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="npx clear-npx-cache">Copy</button>
              </div>
              <pre>npx clear-npx-cache</pre>
            </div>
          </li>
        </ol>

        <!-- Issue 3 -->
        <h2 class="mt-4">OAuth authentication not working</h2>
        <p><strong>Symptom:</strong> HTTP MCPs (Figma, Notion, Vercel) prompt for authentication but the browser flow fails.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li><strong>Allow popups</strong> - Some browsers block the OAuth popup. Allow popups for the MCP domain.</li>
          <li><strong>Check account access</strong> - Make sure you're logged into the correct account (Figma, Notion, etc.).</li>
          <li><strong>Try a different browser</strong> - If your default browser has strict settings, try Chrome.</li>
          <li><strong>Restart after auth</strong> - After successful authentication, restart Claude Code to pick up the new session.</li>
        </ol>

        <!-- Issue 4 -->
        <h2 class="mt-4">Supabase MCP: Access denied</h2>
        <p><strong>Symptom:</strong> Supabase MCP connects but returns "access denied" or "unauthorized" errors.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>Check Access Token</strong> - Make sure the token is valid and not expired. Generate a new one at your Supabase Dashboard > Account > Access Tokens.
          </li>
          <li>
            <strong>Check Project Ref</strong> - The project reference must match exactly. Find it in Project Settings > General.
          </li>
          <li>
            <strong>Verify token format</strong> - The token should be a long string starting with <code>sbp_</code>.
          </li>
        </ol>

        <!-- Issue 5 -->
        <h2 class="mt-4">iOS Simulator MCP: Not finding simulator</h2>
        <p><strong>Symptom:</strong> iOS Simulator MCP fails to connect or doesn't find any simulators.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>Boot a simulator first</strong> - Open Xcode > Window > Devices and Simulators > Boot a device.
          </li>
          <li>
            <strong>Check Xcode CLI tools</strong>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="xcode-select -p">Copy</button>
              </div>
              <pre>xcode-select -p
<span class="comment"># Should output: /Applications/Xcode.app/Contents/Developer</span></pre>
            </div>
          </li>
          <li>
            <strong>Verify simulators exist</strong>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="xcrun simctl list devices available">Copy</button>
              </div>
              <pre>xcrun simctl list devices available</pre>
            </div>
          </li>
        </ol>

        <!-- Issue 6 -->
        <h2 class="mt-4">Playwright MCP: Browser not found</h2>
        <p><strong>Symptom:</strong> Playwright MCP fails to launch a browser.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>Install Playwright browsers</strong>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="npx playwright install">Copy</button>
              </div>
              <pre>npx playwright install</pre>
            </div>
          </li>
          <li>
            <strong>Check Node.js version</strong> - Playwright requires Node.js 18+.
          </li>
        </ol>

        <!-- Issue 7 -->
        <h2 class="mt-4">.mcp.json contains secrets</h2>
        <p><strong>Symptom:</strong> You accidentally committed API tokens or secrets in <code>.mcp.json</code>.</p>

        <p><strong>Solutions:</strong></p>
        <ol>
          <li>
            <strong>Revoke the exposed token</strong> - Immediately generate a new token from the service dashboard.
          </li>
          <li>
            <strong>Add to .gitignore</strong>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="echo '.mcp.json' >> .gitignore">Copy</button>
              </div>
              <pre>echo '.mcp.json' >> .gitignore</pre>
            </div>
          </li>
          <li>
            <strong>Remove from git history</strong>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">bash</span>
                <button class="copy-btn" data-code="git rm --cached .mcp.json && git commit -m 'Remove .mcp.json from tracking'">Copy</button>
              </div>
              <pre>git rm --cached .mcp.json
git commit -m "Remove .mcp.json from tracking"</pre>
            </div>
          </li>
        </ol>

        <div class="alert alert-info mt-4">
          <span class="alert-icon">&#x2139;&#xfe0f;</span>
          <div>
            <strong>Still stuck?</strong> Open an issue at <a href="https://github.com/javikin/oden/issues" target="_blank" rel="noopener">github.com/javikin/oden/issues</a> with the error message and your MCP configuration (without secrets).
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-bottom">
        <span>Oden Forge - Documentation-First Development</span>
        <span>MIT License</span>
      </div>
    </div>
  </footer>

  <script src="../js/main.js"></script>
</body>
</html>
